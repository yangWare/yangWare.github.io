import{_ as A,f as N,s as j,e as n,k as E,C as I,c as u,o as r,h as O,a as t,t as s,z as o,F as S,r as T}from"./main-Ym5FqLnE.js";import{M as z,i as e}from"./Message-_jpLZiTK.js";const D={class:"character-view"},L={class:"stats"},U={class:"stat-item"},G={class:"stat-label"},H={class:"stat-value"},J={class:"stat-item"},K={class:"stat-label"},P={class:"stat-value"},Q={class:"stat-item"},R={class:"stat-label"},W={class:"stat-value"},X={class:"stat-item"},Y={class:"stat-label"},Z={class:"stat-value"},tt={class:"stat-item"},st={class:"stat-label"},at={class:"stat-value"},et={class:"stat-item"},ot={class:"stat-label"},ct={class:"stat-value"},nt={class:"stat-item"},it={class:"stat-label"},_t={class:"stat-value"},lt={class:"stat-item"},dt={class:"stat-label"},mt={class:"stat-value"},ut={class:"stat-item"},rt={class:"stat-label"},pt={class:"stat-value"},vt={class:"equipment-section"},ht={class:"equipment-list"},bt=["onClick"],ft={class:"equipment-name"},gt={class:"equipment-position"},xt={__name:"CharacterView",setup(kt){const a=N(()=>j.player),C=e.equipment_position,F=e.combat_stats,d=n(!1),p=n(""),v=n("info"),h=n(!1),M=n("确定"),B=n(()=>{}),V=()=>{B.value()},$=m=>{let c=`${m.name}<br>`;for(const[i,l]of Object.entries(m.combat_info||{}))c+=`${F[i]||i}: ${l}<br>`;p.value=c.trim(),v.value="info",d.value=!0,h.value=!1};return E(async()=>{await I()}),(m,c)=>{var i,l,b,f,g,x,k,q,w;return r(),u("div",D,[O(z,{visible:d.value,"onUpdate:visible":c[0]||(c[0]=_=>d.value=_),content:p.value,type:v.value,"show-button":h.value,"button-text":M.value,onAction:V},null,8,["visible","content","type","show-button","button-text"]),t("div",L,[t("div",U,[t("span",G,s(o(e).combat_stats.max_hp)+":",1),t("span",H,s(a.value.hp)+"/"+s(((i=a.value.combat_stats)==null?void 0:i.max_hp)||0),1)]),t("div",J,[t("span",K,s(o(e).combat_stats.attack)+":",1),t("span",P,s(((l=a.value.combat_stats)==null?void 0:l.attack)||0),1)]),t("div",Q,[t("span",R,s(o(e).combat_stats.defense)+":",1),t("span",W,s(((b=a.value.combat_stats)==null?void 0:b.defense)||0),1)]),t("div",X,[t("span",Y,s(o(e).combat_stats.crit_rate)+":",1),t("span",Z,s((((f=a.value.combat_stats)==null?void 0:f.crit_rate)*100||0).toFixed(1))+"%",1)]),t("div",tt,[t("span",st,s(o(e).combat_stats.crit_resist)+":",1),t("span",at,s((((g=a.value.combat_stats)==null?void 0:g.crit_resist)*100||0).toFixed(1))+"%",1)]),t("div",et,[t("span",ot,s(o(e).combat_stats.crit_damage)+":",1),t("span",ct,s((((x=a.value.combat_stats)==null?void 0:x.crit_damage)*100||0).toFixed(1))+"%",1)]),t("div",nt,[t("span",it,s(o(e).combat_stats.crit_damage_resist)+":",1),t("span",_t,s((((k=a.value.combat_stats)==null?void 0:k.crit_damage_resist)*100||0).toFixed(1))+"%",1)]),t("div",lt,[t("span",dt,s(o(e).combat_stats.hit_rate)+":",1),t("span",mt,s((((q=a.value.combat_stats)==null?void 0:q.hit_rate)*100||0).toFixed(1))+"%",1)]),t("div",ut,[t("span",rt,s(o(e).combat_stats.dodge_rate)+":",1),t("span",pt,s((((w=a.value.combat_stats)==null?void 0:w.dodge_rate)*100||0).toFixed(1))+"%",1)])]),t("div",vt,[c[1]||(c[1]=t("div",{class:"equipment-title"},"当前装备",-1)),t("ul",ht,[(r(!0),u(S,null,T(Object.entries(a.value.equipment),([_,y])=>(r(),u("li",{key:_,class:"equipment-item",onClick:qt=>$(y)},[t("span",ft,s(y.name),1),t("span",gt,s(o(C)[_].name||_),1)],8,bt))),128))])])])}}},Ct=A(xt,[["__scopeId","data-v-3bcfcb97"]]);export{Ct as default};
