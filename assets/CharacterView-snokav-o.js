import{_ as j,f as A,s as N,e as c,j as E,c as m,o as u,h as I,a as t,t as s,p as o,F as O,r as S}from"./main-V_1wxRPJ.js";import{d as T,M as D,i as e}from"./Message-C6PSr0gm.js";const L={class:"character-view"},z={class:"stats"},G={class:"stat-item"},H={class:"stat-label"},J={class:"stat-value"},K={class:"stat-item"},P={class:"stat-label"},Q={class:"stat-value"},R={class:"stat-item"},U={class:"stat-label"},W={class:"stat-value"},X={class:"stat-item"},Y={class:"stat-label"},Z={class:"stat-value"},tt={class:"stat-item"},st={class:"stat-label"},at={class:"stat-value"},et={class:"stat-item"},ot={class:"stat-label"},ct={class:"stat-value"},nt={class:"stat-item"},it={class:"stat-label"},_t={class:"stat-value"},lt={class:"stat-item"},dt={class:"stat-label"},mt={class:"stat-value"},ut={class:"stat-item"},rt={class:"stat-label"},pt={class:"stat-value"},vt={class:"equipment-section"},ht={class:"equipment-list"},bt=["onClick"],ft={class:"equipment-name"},gt={class:"equipment-position"},xt={__name:"CharacterView",setup(qt){const a=A(()=>N.player),F=e.equipment_position,C=e.combat_stats,r=c(!1),p=c(""),v=c("info"),h=c(!1),M=c("确定"),B=c(()=>{}),V=()=>{B.value()},$=l=>{let n=`${l.name}<br>`;for(const[i,_]of Object.entries(l.combat_info||{}))n+=`${C[i]||i}: ${_}<br>`;p.value=n.trim(),v.value="info",r.value=!0,h.value=!1};return E(async()=>{await T()}),(l,n)=>{var i,_,b,f,g,x,q,w,y;return u(),m("div",L,[I(D,{visible:r.value,content:p.value,type:v.value,"show-button":h.value,"button-text":M.value,onAction:V},null,8,["visible","content","type","show-button","button-text"]),t("div",z,[t("div",G,[t("span",H,s(o(e).combat_stats.max_hp)+":",1),t("span",J,s(a.value.hp)+"/"+s(((i=a.value.combat_stats)==null?void 0:i.max_hp)||0),1)]),t("div",K,[t("span",P,s(o(e).combat_stats.attack)+":",1),t("span",Q,s(((_=a.value.combat_stats)==null?void 0:_.attack)||0),1)]),t("div",R,[t("span",U,s(o(e).combat_stats.defense)+":",1),t("span",W,s(((b=a.value.combat_stats)==null?void 0:b.defense)||0),1)]),t("div",X,[t("span",Y,s(o(e).combat_stats.crit_rate)+":",1),t("span",Z,s((((f=a.value.combat_stats)==null?void 0:f.crit_rate)*100||0).toFixed(1))+"%",1)]),t("div",tt,[t("span",st,s(o(e).combat_stats.crit_resist)+":",1),t("span",at,s((((g=a.value.combat_stats)==null?void 0:g.crit_resist)*100||0).toFixed(1))+"%",1)]),t("div",et,[t("span",ot,s(o(e).combat_stats.crit_damage)+":",1),t("span",ct,s((((x=a.value.combat_stats)==null?void 0:x.crit_damage)*100||0).toFixed(1))+"%",1)]),t("div",nt,[t("span",it,s(o(e).combat_stats.crit_damage_resist)+":",1),t("span",_t,s((((q=a.value.combat_stats)==null?void 0:q.crit_damage_resist)*100||0).toFixed(1))+"%",1)]),t("div",lt,[t("span",dt,s(o(e).combat_stats.hit_rate)+":",1),t("span",mt,s((((w=a.value.combat_stats)==null?void 0:w.hit_rate)*100||0).toFixed(1))+"%",1)]),t("div",ut,[t("span",rt,s(o(e).combat_stats.dodge_rate)+":",1),t("span",pt,s((((y=a.value.combat_stats)==null?void 0:y.dodge_rate)*100||0).toFixed(1))+"%",1)])]),t("div",vt,[n[0]||(n[0]=t("div",{class:"equipment-title"},"当前装备",-1)),t("ul",ht,[(u(!0),m(O,null,S(Object.entries(a.value.equipment),([d,k])=>(u(),m("li",{key:d,class:"equipment-item",onClick:wt=>$(k)},[t("span",ft,s(k.name),1),t("span",gt,s(o(F)[d].name||d),1)],8,bt))),128))])])])}}},Ft=j(xt,[["__scopeId","data-v-d396a008"]]);export{Ft as default};
