import{_ as E,f as g,s as h,e as n,c as i,o as l,a as o,h as L,F as $,r as k,t as w}from"./main-DytL8F-C.js";import{M as j,i as D,c as F}from"./Message-kdaRh4ew.js";import{m as c}from"./material_config-Bu-F0gt6.js";const O={class:"bag-container"},S={class:"materials-grid"},T=["onClick"],U={class:"material-name"},z={class:"unequipped-grid"},G=["onClick"],H={class:"item-name"},J={__name:"BagView",setup(P){const q=s=>{for(const t in c.material_types){const e=c.material_types[t];if(e.materials[s])return e.materials[s].name}return s},C=g(()=>(h.player.materials||[]).map(t=>({id:t,name:q(t)}))),M=g(()=>h.player.unequipped||[]),r=n(!1),u=n(""),m=n("info"),d=D.combat_stats,x=s=>{for(const t in c.material_types){const e=c.material_types[t];if(e.materials[s]){const a=e.materials[s],v=e.base_stats,V=a.multiplier;let b="";for(const[y,A]of Object.entries(v))b+=`${d[y]||y}: ${A*V}<br>`;return{name:a.name,level:a.level,type:e.name,stats:b.trim()}}}return null},B=s=>{const t=x(s.id);t&&(u.value=`${t.name}<br>类型: ${t.type}<br>等级: ${t.level}<br>属性加成:<br>${t.stats}`,m.value="info",r.value=!0,p.value=!1)},I=s=>{let t=`${s.name}<br>`;for(const[a,v]of Object.entries(s.combat_info||{}))t+=`${d[a]||a}: ${v}<br>`;u.value=t.trim(),m.value="info",r.value=!0,p.value=!0,f.value="穿戴";const e=()=>F(s.name);_.value=e},p=n(!1),f=n("确定"),_=n(()=>{}),N=()=>{_.value()};return(s,t)=>(l(),i("div",O,[t[1]||(t[1]=o("div",{class:"section-title"},"材料",-1)),o("div",S,[(l(!0),i($,null,k(C.value,e=>(l(),i("div",{key:e.id,class:"material-item",onClick:a=>B(e)},[o("div",U,w(e.name),1)],8,T))),128))]),t[2]||(t[2]=o("div",{class:"section-title"},"未穿戴装备",-1)),o("div",z,[(l(!0),i($,null,k(M.value,e=>(l(),i("div",{key:e.name,class:"unequipped-item",onClick:a=>I(e)},[o("div",H,w(e.name),1)],8,G))),128))]),L(j,{visible:r.value,"onUpdate:visible":t[0]||(t[0]=e=>r.value=e),content:u.value,type:m.value,"show-button":p.value,"button-text":f.value,onAction:N},null,8,["visible","content","type","show-button","button-text"])]))}},X=E(J,[["__scopeId","data-v-9789d7a4"]]);export{X as default};
