webpackJsonp([1],{"7wCC":function(t,e){},"7y78":function(t,e){},DyAI:function(t,e){},KHpm:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),a=i("/ocq"),r=i("C4MV"),o=i.n(r),s=i("Zx67"),l=i.n(s),c=i("Zrlr"),u=i.n(c),m=i("wxAW"),f=i.n(m),d=i("zwoO"),p=i.n(d),v=i("Pf15"),b=i.n(v),_=i("EOM2"),k=i("ipus");var g,h,y,w,z,C,O,T,j,I,S=i("Au9i"),E=i.n(S);function A(t,e,i,n){i&&o()(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function x(t,e,i,n,a){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var U=(g=Object(_.Prop)(Object),h=Object(k.b)("getTasks"),y=Object(k.a)("updateTaskTimestamp"),w=Object(k.a)("updateGold"),Object(_.Component)((C=function(t){function e(){var t,i,n,a;u()(this,e);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=n=p()(this,(t=e.__proto__||l()(e)).call.apply(t,[this].concat(o))),A(n,"item",O,n),A(n,"tasks",T,n),A(n,"updateTaskTimestamp",j,n),A(n,"updateGold",I,n),a=i,p()(n,a)}return b()(e,t),f()(e,[{key:"handleClick",value:function(){var t=this;Object(S.MessageBox)({title:"提示",message:"确定提交任务【"+this.item.description+"】",showCancelButton:!0}).then(function(e){if("confirm"===e){t.updateGold(t.item.gold);var i=Date.now()+t.item.interval;t.updateTaskTimestamp({taskName:t.item.name,timestamp:i}),Object(S.Toast)("任务完成！奖励已发放~")}else t.$router.push("/my")})}},{key:"taskStatus",get:function(){var t=this.tasks[this.item.name];if(!t)return 0;var e=Date.now();return Number(t.timestamp)-e}},{key:"taskStatusStr",get:function(){return this.taskStatus>0?"冷却中("+((t=this.taskStatus)/36e5>1?Math.floor(t/36e5)+"h":t/6e4>1?Math.floor(t/6e4)+"min":t/1e3>1?Math.floor(t/1e3)+"s":t+"ms")+")":"完成";var t}}]),e}(n.default),O=x(C.prototype,"item",[g],{enumerable:!0,initializer:null}),T=x(C.prototype,"tasks",[h],{enumerable:!0,initializer:null}),j=x(C.prototype,"updateTaskTimestamp",[y],{enumerable:!0,initializer:null}),I=x(C.prototype,"updateGold",[w],{enumerable:!0,initializer:null}),z=C))||z),F={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-task-container"},[i("div",{staticClass:"common-task-line text_primary"},[t._v(t._s(t.item.description))]),t._v(" "),i("div",{staticClass:"common-task-line"},[i("span",[t._v("奖励："),i("span",{staticClass:"text_warning"},[t._v(t._s(t.item.reward))])]),t._v(" "),i("mt-button",{staticClass:"common-task-button mint-button--success",attrs:{disabled:t.taskStatus>0,plain:""},nativeOn:{click:function(e){return t.handleClick(e)}}},[t._v(t._s(t.taskStatusStr))])],1)])},staticRenderFns:[]};var N,P,D,M,B,V,$,R,G,H=i("VU/8")(U,F,!1,function(t){i("u8JV")},"data-v-db1a1eb0",null).exports,J=[{name:"fwc0",description:"一次完成10个标准俯卧撑",type:"Common",reward:"灵石 +2",gold:2,interval:36e5},{name:"fwc1",description:"一次完成20个标准俯卧撑",type:"Common",reward:"灵石 +5",gold:5,interval:36e5},{name:"fwc2",description:"一次完成50个标准俯卧撑",type:"Common",reward:"灵石 +50",gold:50,interval:36e5},{name:"pb0",description:"一次完成400米或田径场一圈",type:"Common",reward:"灵石 +3",gold:3,interval:36e5},{name:"pb1",description:"一次完成800米或田径场两圈",type:"Common",reward:"灵石 +8",gold:8,interval:36e5},{name:"pb2",description:"一次完成2000米或田径场五圈",type:"Common",reward:"灵石 +80",gold:80,interval:36e5}],K=i("mvHQ"),Z=i.n(K);function Q(t,e,i,n){i&&o()(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function W(t,e,i,n,a){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var Y=(N=Object(_.Component)({components:{CommonTask:H}}),P=Object(k.b)("getUserInfo"),D=Object(k.b)("getTasks"),M=Object(k.a)("updateTasks"),N((V=function(t){function e(){var t,i,n,a;u()(this,e);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=n=p()(this,(t=e.__proto__||l()(e)).call.apply(t,[this].concat(o))),Q(n,"userInfo",$,n),Q(n,"tasksBuffer",R,n),Q(n,"updateTasks",G,n),a=i,p()(n,a)}return b()(e,t),f()(e,[{key:"created",value:function(){var t;this.updateTasks((t=window.localStorage.getItem("tasks"))?JSON.parse(t):{})}},{key:"tasks",get:function(){var t=this,e=Date.now();return J.sort(function(i,n){var a=t.tasksBuffer[i.name],r=t.tasksBuffer[n.name],o=!0,s=!0;return a&&a.timestamp>e&&(o=!1),r&&r.timestamp>e&&(s=!1),o?-1:!o&&s?1:0})}}]),e}(n.default),$=W(V.prototype,"userInfo",[P],{enumerable:!0,initializer:null}),R=W(V.prototype,"tasksBuffer",[D],{enumerable:!0,initializer:null}),G=W(V.prototype,"updateTasks",[M],{enumerable:!0,initializer:null}),B=V))||B),X={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",this._l(this.tasks,function(t,i){return e(t.type+"Task",{key:i,tag:"component",attrs:{item:t}})}))},staticRenderFns:[]};var q,L,tt,et,it=i("VU/8")(Y,X,!1,function(t){i("7y78")},"data-v-ce48a9c8",null).exports;var nt,at,rt,ot,st,lt,ct=(q=Object(k.b)("getUserInfo"),Object(_.Component)((tt=function(t){function e(){var t,i,n,a,r,s,c,m;u()(this,e);for(var f=arguments.length,d=Array(f),v=0;v<f;v++)d[v]=arguments[v];return i=n=p()(this,(t=e.__proto__||l()(e)).call.apply(t,[this].concat(d))),r=n,s="userInfo",m=n,(c=et)&&o()(r,s,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(m):void 0}),a=i,p()(n,a)}return b()(e,t),e}(n.default),nt=tt.prototype,at="userInfo",rt=[q],ot={enumerable:!0,initializer:null},lt={},Object.keys(ot).forEach(function(t){lt[t]=ot[t]}),lt.enumerable=!!lt.enumerable,lt.configurable=!!lt.configurable,("value"in lt||lt.initializer)&&(lt.writable=!0),lt=rt.slice().reverse().reduce(function(t,e){return e(nt,at,t)||t},lt),st&&void 0!==lt.initializer&&(lt.value=lt.initializer?lt.initializer.call(st):void 0,lt.initializer=void 0),void 0===lt.initializer&&(Object.defineProperty(nt,at,lt),lt=null),et=lt,L=tt))||L),ut={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"my-block"},[i("img",{staticClass:"info-icon-img",attrs:{width:"80",height:"80",src:"static/TX/defaultTX.jpg"}}),t._v(" "),i("div",{staticClass:"info-by-icon"},[i("div",{staticClass:"icon-info-item__large icon-info-item__name"},[t._v(t._s(t.userInfo.name))]),t._v(" "),i("div",{staticClass:"icon-info-item__large"},[t._v("战斗力 "),i("span",{staticClass:"icon-info-item__zdl"},[t._v(t._s(t.userInfo.zdl))])]),t._v(" "),i("div",{staticClass:"icon-info-item__small"},[t._v("灵石 "),i("span",{staticClass:"icon-info-item__ls"},[t._v(t._s(t.userInfo.gold))])])])]),t._v(" "),i("div",{staticClass:"my-block"},[t._v("\n    更多功能~\n  ")]),t._v(" "),i("div",{staticClass:"my-block"},[t._v("\n    敬请期待~\n  ")])])},staticRenderFns:[]};var mt=i("VU/8")(ct,ut,!1,function(t){i("TMN3")},"data-v-0719a50a",null).exports;n.default.use(a.a);var ft=new a.a({routes:[{path:"/",name:"",redirect:"/task"},{path:"/task",name:"task",component:it},{path:"/my",name:"my",component:mt}]}),dt=(i("d8/S"),i("NYxO")),pt={getUserInfo:function(t){return t.userInfo}},vt=i("bOdI"),bt=i.n(vt),_t="UPDATE_USER_INFO",kt=bt()({},"UPDATE_USER_INFO",function(t,e){t.userInfo=e});var gt,ht={updateGold:function(t,e){var i=t.state.userInfo;i.gold||(i.gold=0),i.gold+=e,t.commit(_t,i),function(t){window.localStorage.setItem("userInfo",Z()(t))}(i)}},yt={state:{userInfo:(gt=window.localStorage.getItem("userInfo"),gt?JSON.parse(gt):{name:"公子世无双",zdl:0,gold:0})},getters:pt,actions:ht,mutations:kt},wt="UPDATE_TASKS",zt={state:{tasks:{}},getters:{getTasks:function(t){return t.tasks}},actions:{updateTasks:function(t,e){t.commit(wt,e)},updateTaskTimestamp:function(t,e){var i=t.state.tasks,a=e.taskName,r=e.timestamp,o=i[a];o||(o={},n.default.set(i,a,o)),o.timestamp=r,t.commit(wt,i),function(t){window.localStorage.setItem("tasks",Z()(t))}(i)}},mutations:bt()({},"UPDATE_TASKS",function(t,e){t.tasks=e})};n.default.use(dt.a);var Ct,Ot,Tt,jt=new dt.a.Store({modules:{UserInfo:yt,Task:zt}}),It=i("K6ED"),St=i.n(It);var Et=(Ct=Object(_.Watch)("selected"),Object(_.Component)((function(t,e,i,n,a){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null)}((Tt=function(t){function e(){var t,i,n,a;u()(this,e);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=n=p()(this,(t=e.__proto__||l()(e)).call.apply(t,[this].concat(o))),n.selected="/task",a=i,p()(n,a)}return b()(e,t),f()(e,[{key:"onSelected",value:function(t){this.$router.push("/"+t)}},{key:"created",value:function(){var t=this.$route.path.substring(1);this.selected=t}}]),e}(n.default)).prototype,"onSelected",[Ct],St()(Tt.prototype,"onSelected"),Tt.prototype),Ot=Tt))||Ot),At={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("mt-tabbar",{attrs:{fixed:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[i("mt-tab-item",{attrs:{id:"task"}},[i("i",{staticClass:"iconfont icon-calendar",attrs:{slot:"icon"},slot:"icon"}),t._v("\n    任务\n  ")]),t._v(" "),i("mt-tab-item",{attrs:{id:"signon"}},[i("i",{staticClass:"iconfont icon-post",attrs:{slot:"icon"},slot:"icon"}),t._v("\n    签到\n  ")]),t._v(" "),i("mt-tab-item",{attrs:{id:"otherApps"}},[i("i",{staticClass:"iconfont icon-apps",attrs:{slot:"icon"},slot:"icon"}),t._v("\n    其他\n  ")]),t._v(" "),i("mt-tab-item",{attrs:{id:"my"}},[i("i",{staticClass:"iconfont icon-people",attrs:{slot:"icon"},slot:"icon"}),t._v("\n    我的\n  ")])],1)},staticRenderFns:[]};var xt={name:"App",components:{FixedFooter:i("VU/8")(Et,At,!1,function(t){i("rfFQ")},"data-v-b5783a8c",null).exports}},Ut={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("FixedFooter"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var Ft=i("VU/8")(xt,Ut,!1,function(t){i("KHpm")},null,null).exports;i("7wCC"),i("ZBEY"),i("DyAI");n.default.use(E.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:ft,store:jt,components:{App:Ft},template:"<App/>"})},TMN3:function(t,e){},ZBEY:function(t,e){},"d8/S":function(t,e){},rfFQ:function(t,e){},u8JV:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d2b9fbf52532fc7d2436.js.map