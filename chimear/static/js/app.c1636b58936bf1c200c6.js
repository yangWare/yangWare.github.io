webpackJsonp([1],{"1BoT":function(t,e){},"6anK":function(t,e){},"7wCC":function(t,e){},C0F0:function(t,e){},DyAI:function(t,e){},FVjA:function(t,e){},IClY:function(t,e){},KHpm:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),a=i("/ocq"),r=i("C4MV"),l=i.n(r),o=i("Zx67"),s=i.n(o),c=i("Zrlr"),u=i.n(c),m=i("wxAW"),d=i.n(m),f=i("zwoO"),v=i.n(f),p=i("Pf15"),b=i.n(p),h=i("EOM2"),_=i("ipus");function g(t){return t||(t=Date.now()),new Date(new Date(t).toLocaleDateString()).getTime()}var y,z,k,C,j,O,w,x,I,T,U=i("Au9i"),S=i.n(U);function E(t,e,i,n){i&&l()(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function A(t,e,i,n,a){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var B=(y=Object(h.Prop)(Object),z=Object(_.b)("getTasks"),k=Object(_.a)("updateTaskTimestamp"),C=Object(_.a)("updateGold"),Object(h.Component)((O=function(t){function e(){var t,i,n,a;u()(this,e);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return i=n=v()(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(l))),E(n,"item",w,n),E(n,"tasks",x,n),E(n,"updateTaskTimestamp",I,n),E(n,"updateGold",T,n),a=i,v()(n,a)}return b()(e,t),d()(e,[{key:"handleClick",value:function(){var t=this;Object(U.MessageBox)({title:"提示",message:"确定提交任务【"+this.item.description+"】",showCancelButton:!0}).then(function(e){if("confirm"===e){t.updateGold(t.item.gold);var i=Date.now()+t.item.interval;-1===t.item.interval&&(i=0),t.updateTaskTimestamp({taskName:t.item.name,timestamp:i}),Object(U.Toast)("任务完成！奖励已发放~")}})}},{key:"taskStatus",get:function(){var t=this.tasks[this.item.name];if(!t)return 0;if(0===t.timestamp)return 31504464e6;var e=Date.now();return Number(t.timestamp)-e}},{key:"taskStatusStr",get:function(){return 31504464e6===this.taskStatus?"已完成":this.taskStatus>0?"冷却中("+((t=this.taskStatus)/36e5>1?Math.floor(t/36e5)+"h":t/6e4>1?Math.floor(t/6e4)+"min":t/1e3>1?Math.floor(t/1e3)+"s":t+"ms")+")":"完成";var t}}]),e}(n.default),w=A(O.prototype,"item",[y],{enumerable:!0,initializer:null}),x=A(O.prototype,"tasks",[z],{enumerable:!0,initializer:null}),I=A(O.prototype,"updateTaskTimestamp",[k],{enumerable:!0,initializer:null}),T=A(O.prototype,"updateGold",[C],{enumerable:!0,initializer:null}),j=O))||j),N={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-task-container"},[i("div",{staticClass:"common-task-line text_primary"},[t._v(t._s(t.item.description))]),t._v(" "),i("div",{staticClass:"common-task-line"},[i("span",[t._v("奖励："),i("span",{staticClass:"text_warning"},[t._v(t._s(t.item.reward))])]),t._v(" "),i("mt-button",{staticClass:"common-task-button mint-button--success",attrs:{disabled:t.taskStatus>0,plain:""},nativeOn:{click:function(e){return t.handleClick(e)}}},[t._v(t._s(t.taskStatusStr))])],1)])},staticRenderFns:[]};var P,F,R,$,D,V,M,G,Z,H=i("VU/8")(B,N,!1,function(t){i("IClY")},"data-v-23c64e83",null).exports,J=[{name:"fwc0",description:"一次完成10个标准俯卧撑",type:"Common",reward:"灵石 +2",gold:2,interval:36e5},{name:"fwc1",description:"一次完成20个标准俯卧撑",type:"Common",reward:"灵石 +5",gold:5,interval:36e5},{name:"fwc2",description:"一次完成50个标准俯卧撑",type:"Common",reward:"灵石 +50",gold:50,interval:36e5},{name:"pb0",description:"一次完成400米或田径场一圈",type:"Common",reward:"灵石 +3",gold:3,interval:36e5},{name:"pb1",description:"一次完成800米或田径场两圈",type:"Common",reward:"灵石 +8",gold:8,interval:36e5},{name:"pb2",description:"一次完成2000米或田径场五圈",type:"Common",reward:"灵石 +80",gold:80,interval:36e5},{name:"yd1",description:"阅读《人月神话》全书",type:"Common",reward:"灵石 +1000",gold:1e3,interval:-1},{name:"jx1",description:"小学升初中",type:"Common",reward:"灵石 +10000",gold:1e4,interval:-1}],L=i("mvHQ"),K=i.n(L);function Q(t,e,i,n){i&&l()(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function Y(t,e,i,n,a){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var W=(P=Object(h.Component)({components:{CommonTask:H}}),F=Object(_.b)("getUserInfo"),R=Object(_.b)("getTasks"),$=Object(_.a)("updateTasks"),P((V=function(t){function e(){var t,i,n,a;u()(this,e);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return i=n=v()(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(l))),Q(n,"userInfo",M,n),Q(n,"tasksBuffer",G,n),Q(n,"updateTasks",Z,n),a=i,v()(n,a)}return b()(e,t),d()(e,[{key:"created",value:function(){var t;this.updateTasks((t=window.localStorage.getItem("tasks"))?JSON.parse(t):{})}},{key:"tasks",get:function(){var t=this,e=Date.now();return J.sort(function(i,n){var a=t.tasksBuffer[i.name],r=t.tasksBuffer[n.name],l=!0,o=!0;return a&&a.timestamp>e&&(l=!1),a&&0===a.timestamp&&(l=!1),r&&0===r.timestamp&&(o=!1),r&&r.timestamp>e&&(o=!1),l?-1:!l&&o?1:0})}}]),e}(n.default),M=Y(V.prototype,"userInfo",[F],{enumerable:!0,initializer:null}),G=Y(V.prototype,"tasksBuffer",[R],{enumerable:!0,initializer:null}),Z=Y(V.prototype,"updateTasks",[$],{enumerable:!0,initializer:null}),D=V))||D),X={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",this._l(this.tasks,function(t,i){return e(t.type+"Task",{key:i,tag:"component",attrs:{item:t}})}))},staticRenderFns:[]};var q,tt,et,it,nt,at,rt=i("VU/8")(W,X,!1,function(t){i("Nchw")},"data-v-3aa64eff",null).exports;function lt(t,e,i,n){i&&l()(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function ot(t,e,i,n,a){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var st=(q=Object(_.b)("getUserInfo"),tt=Object(_.b)("getUserZdl"),Object(h.Component)((it=function(t){function e(){var t,i,n,a;u()(this,e);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return i=n=v()(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(l))),lt(n,"userInfo",nt,n),lt(n,"userZdl",at,n),a=i,v()(n,a)}return b()(e,t),d()(e,[{key:"skipTalent",value:function(){this.$router.push("/talent")}},{key:"clickLSIcon",value:function(){Object(U.Toast)({message:"灵石：一种通用货币，可以通过完成任务等途径获取。",position:"top",duration:2e3})}}]),e}(n.default),nt=ot(it.prototype,"userInfo",[q],{enumerable:!0,initializer:null}),at=ot(it.prototype,"userZdl",[tt],{enumerable:!0,initializer:null}),et=it))||et),ct={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"my-block"},[i("img",{staticClass:"info-icon-img",attrs:{width:"80",height:"80",src:"static/TX/defaultTX.jpg"}}),t._v(" "),i("div",{staticClass:"info-by-icon"},[i("div",{staticClass:"icon-info-item__large icon-info-item__name"},[t._v(t._s(t.userInfo.name))]),t._v(" "),i("div",{staticClass:"icon-info-item__large"},[t._v("战斗力 "),i("span",{staticClass:"icon-info-item__zdl"},[t._v(t._s(t.userZdl))])]),t._v(" "),i("div",{staticClass:"icon-info-item__small"},[i("i",{staticClass:"icon-ls iconfont icon-taojinbi",on:{click:t.clickLSIcon}}),t._v(" "),i("span",{staticClass:"icon-info-item__ls"},[t._v(t._s(t.userInfo.gold))])])])]),t._v(" "),i("div",{staticClass:"my-block my-block-button",on:{click:t.skipTalent}},[i("i",{staticClass:"prefix-icon iconfont icon-danxuan"}),i("span",[t._v("能力")])]),t._v(" "),i("div",{staticClass:"my-block"},[t._v("\n    更多功能~\n  ")]),t._v(" "),i("div",{staticClass:"my-block"},[t._v("\n    敬请期待~\n  ")])])},staticRenderFns:[]};var ut,mt,dt,ft,vt=i("VU/8")(st,ct,!1,function(t){i("fIoS")},"data-v-2d642792",null).exports;var pt,bt,ht,_t,gt,yt,zt=(ut=Object(h.Prop)(Array),Object(h.Component)((dt=function(t){function e(){var t,i,n,a,r,o,c,m;u()(this,e);for(var d=arguments.length,f=Array(d),p=0;p<d;p++)f[p]=arguments[p];return i=n=v()(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(f))),r=n,o="tabs",m=n,(c=ft)&&l()(r,o,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(m):void 0}),n.activeItem="",a=i,v()(n,a)}return b()(e,t),d()(e,[{key:"handleClick",value:function(t){this.activeItem=t.id,this.$emit("active",t)}},{key:"created",value:function(){this.activeItem=this.tabs[0].id}}]),e}(n.default),pt=dt.prototype,bt="tabs",ht=[ut],_t={enumerable:!0,initializer:null},yt={},Object.keys(_t).forEach(function(t){yt[t]=_t[t]}),yt.enumerable=!!yt.enumerable,yt.configurable=!!yt.configurable,("value"in yt||yt.initializer)&&(yt.writable=!0),yt=ht.slice().reverse().reduce(function(t,e){return e(pt,bt,t)||t},yt),gt&&void 0!==yt.initializer&&(yt.value=yt.initializer?yt.initializer.call(gt):void 0,yt.initializer=void 0),void 0===yt.initializer&&(Object.defineProperty(pt,bt,yt),yt=null),ft=yt,mt=dt))||mt),kt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tabs-container"},t._l(t.tabs,function(e,n){return i("span",{staticClass:"tabs-item",class:{isActive:t.activeItem===e.id},on:{click:function(i){t.handleClick(e)}}},[t._v(t._s(e.label))])}))},staticRenderFns:[]};var Ct,jt,Ot,wt,xt,It,Tt,Ut,St,Et,At=i("VU/8")(zt,kt,!1,function(t){i("C0F0")},"data-v-0879b656",null).exports;function Bt(t,e,i,n){i&&l()(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function Nt(t,e,i,n,a){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var Pt=(Ct=Object(h.Prop)(Object),jt=Object(_.b)("getUserInfo"),Ot=Object(_.a)("updateTalent"),wt=Object(_.a)("updateBag"),Object(h.Component)((It=function(t){function e(){var t,i,n,a;u()(this,e);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return i=n=v()(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(l))),Bt(n,"item",Tt,n),Bt(n,"userInfo",Ut,n),Bt(n,"updateTalent",St,n),Bt(n,"updateBag",Et,n),a=i,v()(n,a)}return b()(e,t),d()(e,[{key:"hasMateralNum",value:function(t){var e=this.userInfo.bag||{};return e[t]?e[t].num:0}},{key:"proveLevel",value:function(){if(!this.isNext)return Object(U.Toast)("您已修炼至顶阶，无需进阶");for(var t=[],e=0;e<this.current.material.length;++e){var i=this.current.material[e];if(this.hasMateralNum(i.id)<i.num)return Object(U.Toast)("材料不足");t.push({id:i.id,num:-i.num})}this.updateBag(t),this.updateTalent(this.item.id)}},{key:"jjBtnText",get:function(){return-1===this.current.level?"激活":"进阶"}},{key:"current",get:function(){var t=this.userInfo.talents,e=t&&t[this.item.id];if(!e)return{name:this.item.items[0].name,iconUrl:this.item.items[0].iconUrl,zdl:0,nextZdl:this.item.items[0].zdl,material:this.item.items[0].material,level:-1,nextName:this.item.items[0].name};var i=e.level,n=this.item.items[i],a=this.item.items[++i];return{name:n.name,iconUrl:n.iconUrl,zdl:n.zdl,nextZdl:a?a.zdl:-1,material:a&&a.material,level:i,nextName:a&&a.name}}},{key:"textClass",get:function(){var t=this.current.level;return-1===t?"text_info":1===t?"text_success":2===t?"text_primary":3===t?"text_warning":"text_danger"}},{key:"isNext",get:function(){return-1!==this.current.nextZdl}},{key:"provable",get:function(){for(var t=0;t<this.current.material.length;++t){var e=this.current.material[t];if(this.hasMateralNum(e.id)<e.num)return!1}return!0}}]),e}(n.default),Tt=Nt(It.prototype,"item",[Ct],{enumerable:!0,initializer:null}),Ut=Nt(It.prototype,"userInfo",[jt],{enumerable:!0,initializer:null}),St=Nt(It.prototype,"updateTalent",[Ot],{enumerable:!0,initializer:null}),Et=Nt(It.prototype,"updateBag",[wt],{enumerable:!0,initializer:null}),xt=It))||xt),Ft={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"talent-block"},[i("div",{staticClass:"img-container"},[i("img",{staticClass:"icon-img",attrs:{src:t.current.iconUrl}}),t._v(" "),t.isNext?i("mt-button",{class:{"mint-button--success":t.provable},attrs:{disabled:!t.provable,plain:"",type:"danger",size:"small"},on:{click:t.proveLevel}},[t._v(t._s(t.jjBtnText))]):t._e()],1),t._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"info-item",class:[t.textClass]},[t._v(t._s(t.current.name)),-1===t.current.level?i("span",[t._v("【未激活】")]):t._e()]),t._v(" "),i("div",{staticClass:"info-item",class:[t.textClass]},[t._v("效果：战斗力+"+t._s(t.current.zdl))]),t._v(" "),t.isNext?i("div",{staticClass:"text_danger info-item"},[t._v("下阶段：【"+t._s(t.current.nextName)+"】战斗力+"+t._s(t.current.nextZdl))]):t._e(),t._v(" "),t.isNext?t._e():i("div",{staticClass:"text_success info-item"},[t._v("已至顶阶")]),t._v(" "),t.isNext?i("div",{staticClass:"info-item"},[i("span",{class:[t.provable?"text_success":"text_danger"]},[t._v("进阶材料：\n        "),t._l(t.current.material,function(e,n){return i("span",{key:n},[t._v("\n          "+t._s(e.name)+"("+t._s(e.num)+"/"+t._s(t.hasMateralNum(e.id))+")\n        ")])})],2)]):t._e()])])},staticRenderFns:[]};var Rt,$t=i("VU/8")(Pt,Ft,!1,function(t){i("1BoT"),i("yD0J")},"data-v-9df8014e",null).exports,Dt={ts:[{id:"hyjj",items:[{name:"火眼金睛",zdl:10,iconUrl:"static/talent/hyjj_1.png",material:[{id:"hjs",name:"火精石",num:100}]},{name:"真·火眼金睛",iconUrl:"static/talent/hyjj_1.png",zdl:20,material:[{id:"hjs",name:"火精石",num:888}]},{name:"破灭·火眼金睛",iconUrl:"static/talent/hyjj_2.png",zdl:800,material:[{id:"mszx",name:"魔神之血",num:1}]}]},{id:"by",items:[{name:"白眼",zdl:10,material:[{id:"ctzy",name:"苍瞳咒印",num:100}]}]},{id:"xly",items:[{name:"写轮眼·一勾玉",zdl:2,iconUrl:"static/talent/xly_1.png",material:[{id:"chtzy",name:"赤瞳咒印",num:10}]},{name:"写轮眼·双勾玉",zdl:4,iconUrl:"static/talent/xly_2.png",material:[{id:"chtzy",name:"赤瞳咒印",num:20}]},{name:"写轮眼·三勾玉",zdl:15,iconUrl:"static/talent/xly_3.png",material:[{id:"chtzy",name:"赤瞳咒印",num:100}]},{name:"万花筒·写轮眼",zdl:30,iconUrl:"static/talent/xly_4.png",material:[{id:"chtzy",name:"赤瞳咒印",num:500}]},{name:"永恒万花筒·写轮眼",zdl:50,iconUrl:"static/talent/xly_5.png",material:[{id:"chtzy",name:"赤瞳咒印",num:1e3}]},{name:"轮回眼",iconUrl:"",zdl:500,material:[{id:"lhzy",name:"轮回咒印",num:1e3}]},{name:"月之眼",zdl:800,iconUrl:"static/talent/xly_7.png",material:[{id:"lhzy",name:"轮回咒印",num:1e3},{id:"chtzy",name:"赤瞳咒印",num:1e3}]}]}]},Vt=Object(h.Component)({components:{Tabs:At,TalentBlock:$t}})(Rt=function(t){function e(){var t,i,n,a;u()(this,e);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return i=n=v()(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(l))),n.tabs=[{label:"瞳术",id:"ts"},{label:"恶魔果实",id:"emgs"}],n.activeTab="ts",a=i,v()(n,a)}return b()(e,t),d()(e,[{key:"active",value:function(t){this.activeTab=t.id}},{key:"talents",get:function(){return Dt[this.activeTab]}}]),e}(n.default))||Rt,Mt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("mt-header",{attrs:{fixed:"",title:"能力"}},[e("router-link",{attrs:{slot:"left",to:"/my"},slot:"left"},[e("mt-button",{attrs:{icon:"back"}},[this._v("返回")])],1)],1),this._v(" "),e("div",{staticClass:"mt-header-content content-container"},[e("Tabs",{staticClass:"content-tabs",attrs:{tabs:this.tabs},on:{click:this.active}}),this._v(" "),this._l(this.talents,function(t,i){return e("TalentBlock",{key:i,attrs:{item:t}})})],2)],1)},staticRenderFns:[]};var Gt,Zt,Ht,Jt,Lt,Kt,Qt,Yt,Wt=i("VU/8")(Vt,Mt,!1,function(t){i("iV6p")},"data-v-25e25781",null).exports;function Xt(t,e,i,n){i&&l()(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function qt(t,e,i,n,a){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var te=(Gt=Object(h.Prop)(String),Zt=Object(h.Prop)(String),Ht=Object(h.Prop)(String),Object(h.Component)((Lt=function(t){function e(){var t,i,n,a;u()(this,e);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return i=n=v()(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(l))),Xt(n,"to",Kt,n),Xt(n,"imgUrl",Qt,n),Xt(n,"name",Yt,n),a=i,v()(n,a)}return b()(e,t),e}(n.default),Kt=qt(Lt.prototype,"to",[Gt],{enumerable:!0,initializer:null}),Qt=qt(Lt.prototype,"imgUrl",[Zt],{enumerable:!0,initializer:null}),Yt=qt(Lt.prototype,"name",[Ht],{enumerable:!0,initializer:null}),Jt=Lt))||Jt),ee={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-link",{attrs:{to:t.to}},[i("div",{staticClass:"other-app-item",on:{click:function(e){t.$emit("click")}}},[i("div",[i("img",{staticClass:"other-apps-img",attrs:{src:t.imgUrl}})]),t._v(" "),i("div",[t._v(t._s(t.name))])])])},staticRenderFns:[]};var ie,ne=i("VU/8")(te,ee,!1,function(t){i("FVjA")},"data-v-1c449b8d",null).exports,ae=Object(h.Component)({components:{RouteImage:ne}})(ie=function(t){function e(){return u()(this,e),v()(this,(e.__proto__||s()(e)).apply(this,arguments))}return b()(e,t),e}(n.default))||ie,re={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("RouteImage",{attrs:{to:"/shop",imgUrl:"static/appLogos/shop.png",name:"商店"}})],1)},staticRenderFns:[]};var le,oe,se,ce,ue,me,de,fe,ve,pe,be=i("VU/8")(ae,re,!1,function(t){i("oLjg")},"data-v-e83e6a24",null).exports;function he(t,e,i,n){i&&l()(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _e(t,e,i,n,a){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var ge=(le=Object(h.Prop)(Object),oe=Object(_.b)("getUserInfo"),se=Object(_.a)("updateBag"),ce=Object(_.a)("updateGold"),Object(h.Component)((me=function(t){function e(){var t,i,n,a;u()(this,e);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return i=n=v()(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(l))),he(n,"item",de,n),he(n,"userInfo",fe,n),he(n,"updateBag",ve,n),he(n,"updateGold",pe,n),a=i,v()(n,a)}return b()(e,t),d()(e,[{key:"typeClass",value:function(t){switch(t){case 0:return"mini";case 1:return"small";case 2:return"middle";case 3:return"high";case 4:return"higher"}}},{key:"buy",value:function(){var t=this;Object(U.MessageBox)({title:"提示",message:"确认购买【"+this.item.name+"】",showCancelButton:!0}).then(function(e){if("confirm"===e){if(t.userInfo.gold<t.item.gold)return Object(U.Toast)("灵石不足");t.updateBag([{id:t.item.id,num:1}]),t.updateGold(-t.item.gold),Object(U.Toast)("购买成功")}})}},{key:"_item",get:function(){return this.item?this.item:{name:"新货未到",type:-1,gold:"???"}}}]),e}(n.default),de=_e(me.prototype,"item",[le],{enumerable:!0,initializer:null}),fe=_e(me.prototype,"userInfo",[oe],{enumerable:!0,initializer:null}),ve=_e(me.prototype,"updateBag",[se],{enumerable:!0,initializer:null}),pe=_e(me.prototype,"updateGold",[ce],{enumerable:!0,initializer:null}),ue=me))||ue),ye={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-container",class:[t.typeClass(t._item.type)]},[i("div",[i("img",{staticClass:"icon-img",attrs:{src:t._item.iconUrl}})]),t._v(" "),i("div",{staticClass:"item-name"},[t._v(t._s(t._item.name))]),t._v(" "),i("mt-button",{staticClass:"item-button",attrs:{disabled:-1===t._item.type,plain:"",type:"primary"},on:{click:t.buy}},[i("i",{staticClass:"icon-ls iconfont icon-taojinbi"}),t._v("\n    "+t._s(t._item.gold)+"\n  ")])],1)},staticRenderFns:[]};var ze,ke=i("VU/8")(ge,ye,!1,function(t){i("Q/OC")},"data-v-7432e9e9",null).exports,Ce=[{name:"火精石",id:"hjs",gold:88,type:0,iconUrl:"static/items/hjs.png"},{name:"苍瞳咒印",id:"ctzy",gold:188,type:1,iconUrl:"static/items/ctzy.png"},{name:"赤瞳咒印",id:"chtzy",gold:688,type:2,iconUrl:"static/items/chtzy.png"}],je=Object(h.Component)({components:{ItemBlock:ke}})(ze=function(t){function e(){var t,i,n,a;u()(this,e);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return i=n=v()(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(l))),n.items=Ce,a=i,v()(n,a)}return b()(e,t),e}(n.default))||ze,Oe={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("mt-header",{attrs:{fixed:"",title:"商店"}},[i("router-link",{attrs:{slot:"left",to:"/otherApps"},slot:"left"},[i("mt-button",{attrs:{icon:"back"}},[t._v("返回")])],1)],1),t._v(" "),i("div",{staticClass:"mt-header-content shop-content"},t._l(12,function(e){return i("ItemBlock",{key:e,staticClass:"item-block",attrs:{item:t.items[e-1]}})}))],1)},staticRenderFns:[]};var we,xe,Ie,Te,Ue,Se=i("VU/8")(je,Oe,!1,function(t){i("NiJs")},"data-v-5a8700c0",null).exports;var Ee=(we=Object(h.Component)({components:{RouteImage:ne}}),xe=Object(_.a)("updateGold"),we((Te=function(t){function e(){var t,i,n,a,r,o,c,m;u()(this,e);for(var d=arguments.length,f=Array(d),p=0;p<d;p++)f[p]=arguments[p];return i=n=v()(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(f))),r=n,o="updateGold",m=n,(c=Ue)&&l()(r,o,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(m):void 0}),a=i,v()(n,a)}return b()(e,t),d()(e,[{key:"handleClick",value:function(){var t=(new Date).getHours();if(t<9||t>11)Object(U.MessageBox)("提示","9点到11点才能签到！");else{var e,i,n=e=(e=window.localStorage.getItem("earlybed"))?JSON.parse(e):{timestamp:0,num:0};if(0!==n.timestamp){if(g(n.timestamp)===g())return void Object(U.MessageBox)("提示","今天已签到，签到天数："+n.num);g(n.timestamp)!==g(i)-864e5&&(n.num=0)}n.timestamp=Date.now(),n.num++;var a="签到成功，签到天数："+n.num,r=Math.floor(n.num/7),l=r;l=t<10?r+2:r+1,n.num%7==0?a+="，七天额外奖励灵石"+50*r+"，共获得灵石"+(l+=50*r):a+="，共获得灵石"+l,this.updateGold(l),function(t){window.localStorage.setItem("earlybed",K()(t))}(n),Object(U.MessageBox)("提示",a)}}}]),e}(n.default),Ue=function(t,e,i,n,a){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}(Te.prototype,"updateGold",[xe],{enumerable:!0,initializer:null}),Ie=Te))||Ie),Ae={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("RouteImage",{attrs:{to:"",imgUrl:"static/icon/earlyBed.png",name:"早睡签到"},on:{click:this.handleClick}})],1)},staticRenderFns:[]};var Be=i("VU/8")(Ee,Ae,!1,function(t){i("6anK")},"data-v-61c902f1",null).exports;n.default.use(a.a);var Ne=new a.a({routes:[{path:"/",name:"",redirect:"/task"},{path:"/task",name:"task",component:rt},{path:"/my",name:"my",component:vt},{path:"/talent",name:"talent",component:Wt},{path:"/otherApps",name:"otherApps",component:be},{path:"/shop",name:"shop",component:Se},{path:"/signon",name:"signon",component:Be}]}),Pe=(i("d8/S"),i("NYxO")),Fe={getUserInfo:function(t){return t.userInfo},getUserZdl:function(t){var e=t.userInfo.talents;if(!e)return 0;for(var i=0,n=Dt.ts,a=0;a<n.length;++a){var r=n[a];e[r.id]&&(i+=r.items[e[r.id].level].zdl)}return i}},Re=i("bOdI"),$e=i.n(Re),De="UPDATE_USER_INFO",Ve=$e()({},"UPDATE_USER_INFO",function(t,e){t.userInfo=e});function Me(t){window.localStorage.setItem("userInfo",K()(t))}var Ge,Ze={updateGold:function(t,e){var i=t.state.userInfo;i.gold||(i.gold=0),i.gold+=e,t.commit(De,i),Me(i)},updateBag:function(t,e){var i=t.state.userInfo;i.bag||n.default.set(i,"bag",{});var a=i.bag;e.forEach(function(t){a[t.id]||(n.default.set(a,t.id,{}),a[t.id].num=0),a[t.id].num+=t.num}),t.commit(De,i),Me(i)},updateTalent:function(t,e){var i=t.state.userInfo;i.talents||n.default.set(i,"talents",{}),i.talents[e]||n.default.set(i.talents,e,{level:-1}),i.talents[e].level++,t.commit(De,i),Me(i)}},He={state:{userInfo:(Ge=window.localStorage.getItem("userInfo"),Ge?JSON.parse(Ge):{name:"公子世无双",zdl:0,gold:0,bag:{}})},getters:Fe,actions:Ze,mutations:Ve},Je="UPDATE_TASKS",Le={state:{tasks:{}},getters:{getTasks:function(t){return t.tasks}},actions:{updateTasks:function(t,e){t.commit(Je,e)},updateTaskTimestamp:function(t,e){var i=t.state.tasks,a=e.taskName,r=e.timestamp,l=i[a];l||(l={},n.default.set(i,a,l)),l.timestamp=r,t.commit(Je,i),function(t){window.localStorage.setItem("tasks",K()(t))}(i)}},mutations:$e()({},"UPDATE_TASKS",function(t,e){t.tasks=e})};n.default.use(Pe.a);var Ke,Qe,Ye,We,Xe=new Pe.a.Store({modules:{UserInfo:He,Task:Le}}),qe=i("K6ED"),ti=i.n(qe);function ei(t,e,i,n,a){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var ii=(Ke=Object(h.Watch)("selected"),Qe=Object(h.Watch)("$route.path",{immediate:!0}),Object(h.Component)((ei((We=function(t){function e(){var t,i,n,a;u()(this,e);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return i=n=v()(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(l))),n.selected="/task",a=i,v()(n,a)}return b()(e,t),d()(e,[{key:"onSelected",value:function(t){this.$router.push("/"+t)}},{key:"onPathChange",value:function(t){var e=this.$route.path.substring(1);this.selected=e}}]),e}(n.default)).prototype,"onSelected",[Ke],ti()(We.prototype,"onSelected"),We.prototype),ei(We.prototype,"onPathChange",[Qe],ti()(We.prototype,"onPathChange"),We.prototype),Ye=We))||Ye),ni={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("mt-tabbar",{attrs:{fixed:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[i("mt-tab-item",{attrs:{id:"task"}},[i("i",{staticClass:"iconfont icon-calendar",attrs:{slot:"icon"},slot:"icon"}),t._v("\n    任务\n  ")]),t._v(" "),i("mt-tab-item",{attrs:{id:"signon"}},[i("i",{staticClass:"iconfont icon-post",attrs:{slot:"icon"},slot:"icon"}),t._v("\n    签到\n  ")]),t._v(" "),i("mt-tab-item",{attrs:{id:"otherApps"}},[i("i",{staticClass:"iconfont icon-apps",attrs:{slot:"icon"},slot:"icon"}),t._v("\n    其他\n  ")]),t._v(" "),i("mt-tab-item",{attrs:{id:"my"}},[i("i",{staticClass:"iconfont icon-people",attrs:{slot:"icon"},slot:"icon"}),t._v("\n    我的\n  ")])],1)},staticRenderFns:[]};var ai={name:"App",components:{FixedFooter:i("VU/8")(ii,ni,!1,function(t){i("vCQH")},"data-v-7d637dd0",null).exports}},ri={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("FixedFooter"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var li=i("VU/8")(ai,ri,!1,function(t){i("KHpm")},null,null).exports;i("7wCC"),i("ZBEY"),i("DyAI");n.default.use(S.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:Ne,store:Xe,components:{App:li},template:"<App/>"})},Nchw:function(t,e){},NiJs:function(t,e){},"Q/OC":function(t,e){},ZBEY:function(t,e){},"d8/S":function(t,e){},fIoS:function(t,e){},iV6p:function(t,e){},oLjg:function(t,e){},vCQH:function(t,e){},yD0J:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c1636b58936bf1c200c6.js.map